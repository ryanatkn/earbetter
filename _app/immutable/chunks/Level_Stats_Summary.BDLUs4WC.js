import{c as S,d as L,f as g,b as h,s as K,r as M,a as n,e as N,t as f}from"./disclose-version.C5EwI3-V.js";import{p as O,t as d,g as e,a as R,d as a}from"./index-client.Cqv4GYu1.js";import{i as _}from"./props.DNuZbuIM.js";import{s as Y}from"./style.BTM4hw-r.js";import{p as T}from"./string.Dn_jmF-S.js";import{M as m}from"./index.D3MZVUk2.js";var q=f("★",1),z=f('<span class="remainder svelte-1f5ynuf"> </span>'),B=f(" <!>",1),C=f('<div class="level_stats_summary svelte-1f5ynuf"><!></div>');function V(E,u){O(u,!0);const b=a(()=>u.level_stats.mistakes[u.level_data.id]??[]),H=a(()=>e(b)),I=a(()=>{let{length:r}=e(H);return[r]}),t=a(()=>e(I)[0]),x=a(()=>Math.max(0,m-e(t))),p=a(()=>e(t)>=m),i=a(()=>e(p)?e(b).reduce((r,s)=>r+s,0):void 0),$=a(()=>e(i)===0);var v=C();d(()=>Y(v,"title",e($)?`you performed flawlessly in your best ${m} runs!`:e(p)?`you made a total of ${e(i)} mistake${T(e(i))} in your best ${m} runs`:`you've completed ${e(t)||"no"} run${T(e(t))} of this level, do ${m-e(t)}${e(t)?" more":""} to get scored`));var j=S(v);_(j,()=>e(p),r=>{var s=L(),c=g(s);_(c,()=>e($),l=>{var o=q();n(l,o)},l=>{var o=N();d(()=>h(o,e(i))),n(l,o)}),n(r,s)},r=>{var s=L(),c=g(s);_(c,()=>e(t),l=>{var o=B(),k=g(o,!0);d(()=>h(k,"⭑".repeat(e(t))));var w=K(k);_(w,()=>e(x),A=>{var y=z(),G=S(y);d(()=>h(G,"⭑".repeat(e(x)))),M(y),n(A,y)}),n(l,o)},null,!0),n(r,s)}),M(v),n(E,v),R()}export{V as L};
