import"./DsnmJJEf.js";import{p as I,_ as N,i as t,$ as f,Q as d,a0 as G,f as R,d as g,m as A,r as p,t as P,b as O,c as S,a1 as H,a2 as J,s as K,k as M,a as U,a3 as V}from"./CJaerUHp.js";import{p as j,i as W}from"./C-YpJhoF.js";import{b as X,c as Y}from"./yq475m88.js";import{b as T}from"./DEPAWzjT.js";import{s as Z,i as $}from"./1gEw6I4J.js";const ee=(l=0)=>new Promise(e=>setTimeout(e,l));var te=R('<div class="teleport svelte-gjkzv5"><!></div>');function oe(l,e){I(e,!0);let i=f(void 0);N(()=>{t(i)&&e.to&&r(t(i),e.to)});let m=f(!1);const r=(v,s)=>{d(m,!0),s.appendChild(v),e.onmove?.(v,s)};G(()=>{t(i)?.parentNode?.removeChild(t(i))});var c=te(),y=g(c);A(y,()=>e.children),p(c),T(c,v=>d(i,v),()=>t(i)),P(()=>c.hidden=!t(m)),O(l,c),S()}var ae=(l,e,i,m)=>{const r=l.target;t(e)&&(t(e)===r||!t(e).contains(r)||i()&&!r.closest(i()))&&m(l)},ie=R('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-4ojjtv"><div class="dialog_wrapper svelte-4ojjtv" role="none"><div class="dialog_bg svelte-4ojjtv" aria-hidden="true"></div> <div class="dialog_content svelte-4ojjtv"><!></div></div></div></div>');function ve(l,e){I(e,!0);const i=j(e,"layout",3,"centered"),m=j(e,"index",3,0),r=j(e,"active",3,!0),c=j(e,"content_selector",3,".pane"),y="body",v="fuz_dialog";let s=f(void 0);N(()=>{q(e.container)});const q=o=>{if(o)d(s,o,!0);else{const u=document.getElementById(v);if(u)d(s,u,!0);else{const a=document.querySelector(y);if(!a)throw Error(`Cannot find dialog root element with selector '${y}'`);d(s,document.createElement("div"),!0),t(s).id=v,t(s).style.display="contents",a.appendChild(t(s))}}};let h=f(void 0),b=f(void 0);const E=o=>{o&&Z(o),e.onclose?.()},B=o=>{if(o.key==="Escape"&&!$(o.target)){const u=t(h)?.parentElement,a=u?.parentElement?.children,_=Array.prototype.indexOf.call(a,u);(!a||_===a.length-1||_===-1)&&E(o)}};let x=f(!1);H("keydown",J,function(...o){(r()?B:void 0)?.apply(this,o)}),oe(l,{get to(){return t(s)},onmove:async()=>{await ee(),d(x,!0),t(h)?.focus()},children:(o,u)=>{var a=ie();let _,D;var z=g(a),k=g(z);k.__mousedown=[ae,b,c,E];var C=K(g(k),2),L=g(C);{var Q=n=>{var w=M(),F=U(w);A(F,()=>e.children,()=>E),O(n,w)};W(L,n=>{t(x)&&n(Q)})}p(C),T(C,n=>d(b,n),()=>t(b)),p(k),p(z),p(a),T(a,n=>d(h,n),()=>t(h)),P((n,w)=>{_=X(a,1,"dialog svelte-4ojjtv",null,_,n),D=Y(a,"",D,w)},[()=>({ready:t(x),layout_page:i()==="page"}),()=>({"z-index":100+m()})]),O(o,a)},$$slots:{default:!0}}),S()}V(["mousedown"]);export{ve as D};
